app-id: com.github.scrivanolabs.scrivano
runtime: org.kde.Platform
runtime-version: '6.9'
sdk: org.kde.Sdk
command: Scrivano
finish-args:
  - --share=ipc
  - --socket=x11
  - --filesystem=xdg-desktop
  - --filesystem=xdg-documents
  - --filesystem=xdg-download
  - --filesystem=xdg-pictures
  - --device=dri
modules:
  - name: Scrivano
    buildsystem: simple
    build-commands:
    - install -D Scrivano /app/bin/Scrivano
    - install -D libskia.so /app/lib/libskia.so
    - install -D libpdfium.so /app/lib/libpdfium.so
    - install -D com.github.scrivanolabs.scrivano.appdata.xml -t /app/share/metainfo
    - install -D com.github.scrivanolabs.scrivano.desktop -t /app/share/applications
    - mkdir -p /app/share/mime/packages/
    - install -D com.github.scrivanolabs.scrivano.mime.xml -t /app/share/mime/packages/com.github.scrivanolabs.scrivano.xml
    - install -D icons/icon.svg /app/share/icons/hicolor/scalable/apps/com.github.scrivanolabs.scrivano.svg
    - install -D icons/scrivano_64.png /app/share/icons/hicolor/64x64/apps/com.github.scrivanolabs.scrivano.png
    - update-mime-database /app/share/mime
    - install -D icons/scrivano_128.png /app/share/icons/hicolor/128x128/apps/com.github.scrivanolabs.scrivano.png
    - install -D icons/scrivano_256.png /app/share/icons/hicolor/256x256/apps/com.github.scrivanolabs.scrivano.png
    - install -D icons/scrivano_512.png /app/share/icons/hicolor/512x512/apps/com.github.scrivanolabs.scrivano.png
    sources:
    - type: archive
      url: https://github.com/scrivanolabs/ScrivanoFlatpak/releases/download/0.22.7/Scrivano_flatpak_files_0.22.7.tar.gz
      sha256: c62f93e1d5332067f28bc7c4d889c95efbf7efbe5ca28763d77cedc85de10a03
